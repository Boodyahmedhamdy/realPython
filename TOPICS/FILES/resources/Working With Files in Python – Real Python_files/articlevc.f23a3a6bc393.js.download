(()=>{"use strict";class t{constructor(){try{this.visitsForDay=JSON.parse(localStorage.getItem("rpvc"))}catch(t){this.visitsForDay={}}null===this.visitsForDay&&(this.visitsForDay={}),this.visitsForDay}persist(){localStorage.setItem("rpvc",JSON.stringify(this.visitsForDay))}countToday(){let t=(new Date).toISOString().slice(0,10);Object.prototype.hasOwnProperty.call(this.visitsForDay,t)||(this.visitsForDay[t]=0),this.visitsForDay[t]=this.visitsForDay[t]+1}prune(t){var i=new Date;i.setDate(i.getDate()-t);var e={};for(var s in this.visitsForDay)new Date(s)>=i&&(e[s]=this.visitsForDay[s]);this.visitsForDay=e}visits(){var t=0;for(var i in this.visitsForDay)t+=this.visitsForDay[i];return t}markNotified(){let t=new Date;localStorage.setItem("rp-lastnotified",t.toISOString())}lastNotified(){return new Date(localStorage.getItem("rp-lastnotified"))}daysSinceLastNotified(){let t=new Date-this.lastNotified();return Math.floor(t/864e5)}}function i(t){let e=document.getElementsByClassName(t);0!==e.length?Array.from(e).forEach((t=>{t.hidden=!0})):setTimeout((()=>i(t)),100)}function e(t,i){ga("send",{hitType:"event",eventCategory:"rpvc",eventAction:t,eventValue:i})}window.addEventListener("DOMContentLoaded",(function(){let s=new t;s.countToday(),s.prune(30),s.persist();let a=s.visits();a>=7&&(e("wouldshow",a),s.daysSinceLastNotified()>=7&&(s.markNotified(),$("#rpvc").modal({backdrop:"static",keyboard:!1}),i("addthis-smartlayers"),i("drip-tab-container"),e("didshow",a)))}))})();